# 1) Destravar o .user.ini (se estiver imutável) e parar de versionar
chattr -i .user.ini 2>/dev/null || true
grep -qxF '.user.ini' .gitignore || echo '.user.ini' >> .gitignore
git rm --cached .user.ini
git commit -m "Stop tracking .user.ini (mantém local e ignora no Git)"

# 2) Integrar o histórico remoto e rebasear
git pull --rebase origin main || git pull --rebase --allow-unrelated-histories origin main

# (se acusar conflito, geralmente README.md:)
#   manter o do remoto:
# git checkout --theirs README.md && git add README.md && git rebase --continue
#   OU manter o seu:
# git checkout --ours  README.md && git add README.md && git rebase --continue

# 3) Publicar
git push -u origin main

# 4) (opcional) Recolocar o “cadeado” no .user.ini, boa prática no aaPanel
chattr +i .user.ini 2>/dev/null || true
